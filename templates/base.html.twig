<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Opale Paris{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {# Favicon #}
    <link rel="icon" type="image/svg+xml" href="{{ asset('icones/Fichier18.svg') }}">

    {% block stylesheets %}
        {{ encore_entry_link_tags('app') }}
    {% endblock %}

    {% block javascripts %}
        {{ encore_entry_script_tags('app') }}
    {% endblock %}
</head>
<body>

{# === ZONE HEADER (Modifiable) === #}
{% block header %}
    <header class="main-header {% block header_class %}{% endblock %}">
        {# GAUCHE : Menu et Recherche #}
        <div class="header-left">
            <button class="icon-btn menu-toggle">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
            </button>
            <button class="icon-btn search-toggle">
                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
            </button>
        </div>

        {# CENTRE : Logo Image #}
        <div class="header-center">
            <a href="{{ path('app_home') }}" class="logo-link">
                {# J'ai ajouté une hauteur max pour éviter que le logo soit énorme #}
                <img src="{{ asset('icones/Fichier16.svg') }}" alt="OPALE PARIS" class="brand-logo" style="height: 70px; display: block;">
            </a>
        </div>

        {# DROITE : RDV, Favoris, Panier #}
        <div class="header-right">
            {# Picto Calendrier (RDV) #}
            <a href="{{ path('app_booking') }}" class="icon-btn">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
            </a>
            {# Lien Texte #}
            <a href="{{ path('app_booking') }}" class="icon-link contact-link">Prendre Rendez-vous</a>



            {# Picto Favoris (Cœur) #}
            <a href="{{ path('app_favorites') }}" class="icon-link" aria-label="Mes Favoris">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                </svg>

            {# Picto Panier #}
                <a href="{{ path('cart_index') }}"class="cart-icon-container">
                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path></svg>
                <span id="cart-badge" class="cart-badge">0</span>
            </a>
        </div>
    </header>
{% endblock %}

{# === CONTENU DE LA PAGE === #}
<main>
    {% block body %}{% endblock %}
</main>

{% block footer %}
    <footer class="main-footer">
        <div class="footer-container">

            {# --- PARTIE HAUTE : LES 4 COLONNES --- #}
            <div class="footer-columns">

                {# Colonne 1 : Navigation #}
                <div class="footer-col">
                    <h4>Navigation</h4>
                    <ul>
                        <li><a href="{{ path('app_home') }}">Accueil</a></li>
                        <li><a href="{{ path('app_news') }}">Actualités</a></li>
                        <li><a href="{{ path('app_booking') }}">Réservation</a></li>
                        <li><a href="{{ path('app_collection') }}">Collection</a></li>
                        <li><a href="{{ path('app_favorites') }}">Vos Favoris</a></li>
                        <li><a href="{{ path('app_admin_login') }}">Admin</a></li>
                    </ul>
                </div>

                {# Colonne 2 : Nous Contacter #}
                <div class="footer-col">
                    <h4>Nous Contacter</h4>
                    <ul>
                        <li><a href="{{ path('app_booking') }}">Réservation</a></li>
                        <li class="contact-block">
                            <span class="label">Email de contact :</span>
                            <a href="mailto:contact@opaleparis.fr" class="link">contact@opaleparis.fr</a>
                        </li>
                        <li class="contact-block">
                            <span class="label">Tél : +33 1 61 11 34 14</span>
                        </li>
                        <li class="contact-block">
                            <span class="label">Localisation : Paris, France</span>
                        </li>
                    </ul>
                </div>

                {# Colonne 3 : Informations Légales #}
                <div class="footer-col">
                    <h4>Informations Légales</h4>
                    <ul>
                        <li><a href="#">Informations Légales</a></li>
                        <li><a href="#">Mentions Légales</a></li>
                        <li><a href="#">Politique de Confidentialité</a></li>
                        <li><a href="#">Conditions Générales de Vente (CGV)</a></li>

                    </ul>
                </div>

                {# Colonne 4 : Restez Informé (Réseaux verticaux) #}
                <div class="footer-col">
                    <h4>Restez Informé</h4>
                    <p class="social-text">Réseaux Sociaux</p>
                    <div class="social-icons-vertical">
                        {# On utilise des classes pour simuler les logos si tu n'as pas les SVG #}
                        <a href="#" class="social-box instagram" aria-label="Instagram">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg>
                        </a>
                        <a href="#" class="social-box tiktok" aria-label="TikTok">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 12a4 4 0 1 0 4 4V4a5 5 0 0 0 5 5"></path></svg>
                        </a>
                        <a href="#" class="social-box x-twitter" aria-label="X (Twitter)">
                            {# Icone X simplifiée #}
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4l16 16"/><path d="M4 20L20 4"/></svg>
                        </a>
                        <a href="#" class="social-box facebook" aria-label="Facebook">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg>
                        </a>
                    </div>
                </div>
            </div>

            {# --- PARTIE BASSE : NEWSLETTER & LOGO --- #}
            <div class="footer-bottom-section">
                <h3>Inscrivez-vous à notre newsletter</h3>
                <p>Soyez le premier informé de nos offres spéciales, de nos actualités et de nos mises à jour.</p>

                <form class="newsletter-form">
                    <input type="email" placeholder="Adresse e-mail" required>
                </form>

                <div class="footer-logo">
                    <img src="{{ asset('icones/Fichier16.svg') }}" alt="OPALE PARIS" class="brand-logo" style="height: 70px; display: block;">
                </div>
            </div>

        </div>
    </footer>
{% endblock %}
{# ... À mettre juste avant la fin du body ou block javascripts ... #}

{# 1. LE FOND SOMBRE (BACKDROP) #}
<div class="menu-backdrop" id="menuBackdrop"></div>

{# 2. LA SIDEBAR (MENU LATÉRAL) #}
<div class="sidebar-menu" id="sideMenu">

    <div class="sidebar-header">
        <span class="menu-title">MENU</span>
        {# Bouton Fermer #}
        <button class="close-menu-btn" id="closeMenuBtn">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
        </button>
    </div>

    <div class="sidebar-content">
        <ul class="nav-links">
            <li><a href="{{ path('app_home') }}">Accueil</a></li>
            <li><a href="{{ path('app_booking') }}">Réservation</a></li>
            <li><a href="{{ path('app_news') }}">Actualités</a></li>
            <li><a href="{{ path('app_collection') }}">Collection</a></li>
            <li><a href="{{ path('app_favorites') }}">Vos Favoris</a></li>

        </ul>

        <div class="sidebar-footer">
            <a href="{{ path('app_admin_login') }}" class="admin-link">Espace Styliste</a>
        </div>
    </div>
</div>

{# SCRIPT JS #}
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const openBtn = document.querySelector('.menu-toggle'); // Ton bouton dans le header
        const closeBtn = document.getElementById('closeMenuBtn');
        const backdrop = document.getElementById('menuBackdrop');
        const menu = document.getElementById('sideMenu');

        function openMenu() {
            menu.classList.add('active');
            backdrop.classList.add('active');
            document.body.style.overflow = 'hidden'; // Bloque le scroll
        }

        function closeMenu() {
            menu.classList.remove('active');
            backdrop.classList.remove('active');
            document.body.style.overflow = ''; // Réactive le scroll
        }

        if(openBtn) {
            openBtn.addEventListener('click', (e) => {
                e.preventDefault();
                openMenu();
            });
        }

        if(closeBtn) closeBtn.addEventListener('click', closeMenu);
        if(backdrop) backdrop.addEventListener('click', closeMenu); // Ferme si on clique à côté

        // Fermer au clic sur un lien
        document.querySelectorAll('.sidebar-menu a').forEach(link => {
            link.addEventListener('click', closeMenu);
        });
    });
</script>
</body>
</html>
